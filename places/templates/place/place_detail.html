{% extends "base.html" %}





{% block title %}
    {{ object.name }}
{% endblock %}
{% block head %}{{ object.name }}{% endblock %}
{% block head_subtitle %}{{ object.description }}{% endblock %}
{% block breadcrumb %}List Place{% endblock %}


{% block content %}






        <div class="col-lg-12">

            <div class="panel panel-default">
                            <div class="panel-heading">
                                    <div class="panel-heading clearfix">
                                      <h4 class="panel-title pull-left" style="padding-top: 7.5px;">Place Detail</h4>
                                          <div class="pull-right">
                                            <a href="#" class="btn btn-primary btn-sm" onclick="updatePlace({{ place.id }}); return false;">Edit</a>
                                            <a href="#" class="btn btn-danger btn-sm" onclick="deletePlace({{ place.id }}); return false;  ">Delete</a>
                                          </div>
                                    </div>
                            </div>
                            <div class="panel-body">

                                <div class="row form-group">
                                    <div class="col-md-6"> <b>Name: </b>{{ object.name }} </div>
                                    <div class="col-md-6"> <b>Type: </b>{{ object.get_place_type_id_display }} </div>

                                    </div>

                                <div class="row form-group">
                                    <div class="col-md-6"> <b>Phone number: </b>{{ object.phone_number }} </div>
                                    <div class="col-md-6"> <b>Email: </b>{{ object.email }} </div>

                                    </div>

                                <div class="row form-group">
                                    <div class="col-md-6"> <b>Description: </b>{{ object.description }} </div>
                                    <div class="col-md-6"> <b>Address: </b>{{ object.address }} </div>
                                    </div>

                                <div class="row">
                                    <div class="col-md-4"> <b>Logo: </b>
                                    <img class="img-responsive" width="200" height="200" src="{{ object.image_thumbnail.url }}" alt="Card image cap"> </div>
                                    <div class="col-md-4"> <b>Image: </b>
                                    <img class="img-responsive" width="200" height="200" src="{{ object.image.url }}" alt="Card image cap"> </div>
                                    <div class="col-md-4"> <b>Cover Image: </b>
                                    <img class="img-responsive" src="{{ object.image_cover.url }}" alt="Card image cap"> </div>

                                    </div>

                                <p class="card-text">

                                </p>
                                <b>Location:</b>
                                <div id="map" style="width:100%;height:300px"></div>

                            </div>
                        </div>

            <br/>

            <div class="panel panel-default">
                <div class="panel-heading">
                    <div class="panel-heading clearfix">
                      <h4 class="panel-title pull-left" style="padding-top: 7.5px;">Offers</h4>
                          <div class="pull-right">
                            <a href="{% url 'add_offer_to_place' pk=place.pk %}" class="btn btn-success btn-sm"><i class="fa fa-plus fa-fw"></i></a>
                          </div>
                    </div>
                </div>
                <div class="panel-body">

                    <ul class="list-group">
                    {% for o in place.offer_set.all %}
                            <li class="list-group-item">
                                 {{ forloop.counter }}. &emsp; <a href="#">{{ o.name }}</a>
                            </li>

                    {% endfor %}
                    </ul>



                </div>

            </div>











        </div>


<script>
    function deletePlace(id) {
        var ask = window.confirm("Are you sure you want to delete this post?");
        if (ask) {
            //window.alert("This post was successfully deleted.");

            window.location.replace('/places/place/delete/'+id);

        }
    }

</script>

<script>
function myMap() {
  var myCenter = new google.maps.LatLng({{ place.latitude }},{{ place.longitude }});
  var mapCanvas = document.getElementById("map");
  var mapOptions = {center: myCenter, zoom: 14, scrollwheel: false,};
  var map = new google.maps.Map(mapCanvas, mapOptions);
  var marker = new google.maps.Marker({position:myCenter});
  marker.setMap(map);
}
</script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCmz7oHEd5LqSGdal0vtfWUOkxn9GSUKt4&callback=myMap"></script>


<script>
    function deletePlace(id) {
        var ask = window.confirm("Are you sure you want to delete this post?");
        if (ask) {
            //window.alert("This post was successfully deleted.");

            window.location.replace('/places/place/delete/'+id);

        }
    }

    function updatePlace(id) {
         window.location.replace('/places/place/update/'+id);
    }

</script>


{% endblock %}